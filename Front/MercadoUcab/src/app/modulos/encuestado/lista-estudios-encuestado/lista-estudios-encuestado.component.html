<div class="container mt-2">
  <div class="table-responsive">
    <table class="table table-striped table-sm bg-light">
      <thead>
      <tr>
        <!-- <th>ID</th> -->
        <th>Nombre</th>
        <!-- <th>Estado</th> -->
        <th>Fecha de Inicio</th>
        <th>Fecha de Culminaci√≥n</th>
        <th>Subcategoria</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let estudioEncuestado of estudios; let i = index">
          <!-- <td>{{ estudioEncuestado._id }}</td> -->
          <td>{{ estudioEncuestado.nombre }}</td>
          <!-- <td>{{ estudioEncuestado.estado }}</td> -->
          <td>{{ estudioEncuestado.fechaInicio }}</td>
          <td>{{ estudioEncuestado.fechaFin }}</td>
          <td>{{ estudioEncuestado.subcategoria.nombre }}</td>
          <td>
            <div  class="d-flex justify-content-around">
              <button  type="button" class="btn btn-success btn-sm" (click)="loadPreguntasResponder(i)" data-toggle="modal" data-target="#exampleModal">Responder</button>
              <!-- Modal -->
              <div class="modal fade " id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <!-- Cabezado Modal -->
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Encuesta </h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <!-- Cuerpo completo del Modal -->
                    <div class="modal-body">
                      <form class="needs-validation">
                        <ul class="list-group list-group-flush">
                          <li class="list-group-item" *ngFor="let pregunta of preguntasEncuesta; let i=index">
                            <div class="form-row" >
                              <div class="col-md-3 col-sm-3 mb-3">
                                  <label for="pregunta">Pregunta {{ i+1 }}</label>
                              </div>
                              <div class="col-md-9 col-sm-9 mb-3">
                                  <label for="pregunta">{{ pregunta.descripcion }}</label>
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col-md-3 col-sm-3 mb-3">
                                <label for="pregunta">Respuesta</label>
                              </div>
                              <div class="col-md-7 col-sm-8 mb-3">
                                <select class="custom-select d-block w-100" id="pregunta" value="" (click)="extraerOpciones(i)"
                                name="">
                                    <option>Choose...</option>
                                    <option *ngFor="let opcion of opciones"> {{ opcion.descripcion }}</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please select a valid option.
                                </div>
                              </div>
                              <div class="col-md-2 col-sm-3 mb-2">
                                <button type="button" class="btn btn-primary"> Aceptar </button>
                              </div>
                            </div>
                          </li>
                        </ul>
                      </form>
                    </div><!-- cierre del cuerpo modal -->
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                      <button type="submit" class="btn btn-success" data-dismiss="modal" disabled>Enviar respuesta</button>
                    </div>
                  </div>
                </div>
              </div> <!-- Finall Modal -->
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

